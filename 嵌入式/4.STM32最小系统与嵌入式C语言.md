# STM32 最小系统
## 电源电路
电源电路为系统提供稳定可靠的供电

AMS1117 系列芯片

## 时钟电路 (晶振电路)
### 有源晶振 (振荡器)
- 内部包含晶体管和阻容元件
- 一个完整的谐振振荡器
- 只需要给它供电
- 不需要外接其他元件
- 通常有四个引脚
  - VCC
  - GND
  - 晶振输出引脚
  - 一个悬空的引脚

### 无源晶振(晶体)
- 只有 2 个引脚的无极性元件
- 需要借助外部电路起振
- 精度上差一些
- 价格便宜

### 例
- 使用低速晶振电路作为系统低速外部时钟源，频率为 32.768 kHz，主要用作 RTC 的时钟源，用于精准计时定时电路、万年历等
- 使用外部高速晶振电路作为系统时钟源，一般称为高速外部时钟信号 (HSE)。一般选择 8 MHz，方便倍频
## 复位电路
复位电路将系统进行复位

## 调试和下载电路
将编译好的程序下载到单片机中运行以及进行在线调试

STM32 调试端口引脚功能
| SWJ-DP 引脚名称 | JTAG-DP             | SW-DP                      | 引脚号 |
| --------------- | ------------------- | -------------------------- | ------ |
| JTMS/SWDIO      | 输入: JTAG 模式选择 | 输入输出: 串行数据输入输出 | PA13   |
| JTCK/SWCLK      | 输入: JTAG 时钟     | 输入: 串行时钟             | PA14   |
| JTDI            | 输入: JTAG 数据输入 |                            | PA15   |
| JTDO/TRACESWO   | 输出: JTAG 数据输出 | 异步跟踪                   | PB3    |
| JNTRST          | 输入: JTAG 模块复位 |                            | PB4    |

Cortex M3 三种启动模式
| 启动模式选择引脚 | 启动模式选择引脚 | 启动区域                    |
| ---------------- | ---------------- | --------------------------- |
| BOOT0            | BOOT1            |                             |
| 0                | x                | 闪存存储器，即用户闪存Flash |
| 1                | 0                | 系统存储器，即系统Flash     |
| 1                | 1                | 从片上 SRAM 启动            |

# 嵌入式 C 语言
略

# HAL 库文件源码分析
略